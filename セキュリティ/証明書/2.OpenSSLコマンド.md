# 1.秘密鍵

https://www.feistyduck.com/library/openssl-cookbook/online/openssl-command-line/key-generation.html

## 1-1.作成

openssl 3.2.0を使っているが、初期状態ではPKCS#8形式で作成されると思われる。

### 1-1-1.必要最低限

RSA形式のパスワードなしPEMを作成する。

```
openssl genrsa > server.key
```

「-----BEGIN PRIVATE KEY-----」で始まる

### 1-1-2.パスワード付き

```
openssl genrsa -aes256 2024 > server.key
```

「-----BEGIN ENCRYPTED PRIVATE KEY-----」で始まる

## 1-2.確認方法

```
openssl rsa -text < server.key
```

```
openssl pkey -in server.key -text -noout
```

## 1-3.変換

### 1-3-1.PKCS#8への変換

```
openssl pkcs8 -topk8 -inform PEM -outform PEM -in server.key -out server-pkcs8.pem
```

パスワードの入力が必要だった。

「-----BEGIN ENCRYPTED PRIVATE KEY-----」で始まる

### 1-3-2.PKCS#8への変換(パスワードなし)

```
openssl pkcs8 -topk8 -inform PEM -outform PEM -in server.key -out server-pkcs8-nopass.pem -nocrypt
```
